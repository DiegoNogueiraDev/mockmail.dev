# =============================================================================
# MockMail.dev - Backend (Produção)
# =============================================================================
# ⚠️  ATENÇÃO CRÍTICA - PRODUÇÃO
#
# 1. Configure TODAS as senhas e secrets com valores ÚNICOS e SEGUROS
# 2. Use: openssl rand -base64 64 para secrets críticos (JWT)
# 3. Use: openssl rand -base64 32 para senhas de banco
# 4. NUNCA commite este arquivo no git (.env está no .gitignore)
# 5. Use um gerenciador de segredos em produção (Vault, AWS Secrets, etc.)
# =============================================================================

# Server Configuration
PORT=3000
NODE_ENV=production
ENVIRONMENT=producao

# PostgreSQL Configuration (Primary Database via Prisma)
DATABASE_URL=postgresql://mockmail:${POSTGRES_PASSWORD}@localhost:5432/mockmail

# MongoDB Configuration
MONGO_URI=mongodb://app_user:${MONGO_PASSWORD}@localhost:27017/mockmail?authMechanism=SCRAM-SHA-256&authSource=mockmail&retryWrites=true&w=majority

# Redis Configuration (Sessions, Cache, Rate Limiting)
REDIS_URL=redis://:${REDIS_PASSWORD}@localhost:6379

# JWT Configuration
# CRÍTICO: Gere chaves ÚNICAS com pelo menos 64 caracteres!
# Comando: openssl rand -base64 64
JWT_SECRET=SUBSTITUA_POR_CHAVE_JWT_MUITO_SEGURA_PRODUCAO_64_CARACTERES_MINIMO
JWT_REFRESH_SECRET=SUBSTITUA_POR_CHAVE_REFRESH_MUITO_SEGURA_PRODUCAO_64_CARACTERES_MINIMO
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# CSRF Configuration
# Gere uma chave única! Comando: openssl rand -base64 32
CSRF_SECRET=SUBSTITUA_POR_CHAVE_CSRF_MUITO_SEGURA_PRODUCAO
CSRF_COOKIE_NAME=mockmail_csrf_token

# Cookie Configuration
COOKIE_DOMAIN=mockmail.dev
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict

# CORS Configuration
ALLOWED_ORIGINS=https://mockmail.dev,https://api.mockmail.dev

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=20

# Email Processing
EMAIL_RETENTION_DAYS=30
MAX_EMAILS_PER_BOX=1000
MAX_BOXES_PER_USER=50

# Logs (info para produção - NUNCA use debug em produção!)
LOG_LEVEL=info
